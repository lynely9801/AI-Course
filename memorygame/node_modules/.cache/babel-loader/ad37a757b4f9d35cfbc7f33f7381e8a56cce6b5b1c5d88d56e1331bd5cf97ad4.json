{"ast":null,"code":"var _jsxFileName = \"/Users/aht/Documents/AHT/AI-Course/AI-Source-code/memorygame/src/components/GameBoard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Card from './Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GameBoard({\n  cards,\n  setCards,\n  gridSize,\n  numPlayers,\n  turn,\n  setTurn,\n  onMatch,\n  onGameOver,\n  gameOver\n}) {\n  _s();\n  const [flipped, setFlipped] = useState([]);\n  const [toUnflip, setToUnflip] = useState([]);\n  useEffect(() => {\n    setFlipped([]);\n  }, [cards]);\n  useEffect(() => {\n    if (flipped.length === 2) {\n      const [first, second] = flipped;\n      if (cards[first].id === cards[second].id) {\n        // Match\n        const newCards = cards.map((c, idx) => idx === first || idx === second ? {\n          ...c,\n          isMatched: true\n        } : c);\n        setCards(newCards);\n        onMatch(turn);\n        setFlipped([]);\n        // Check for game over\n        if (newCards.every(c => c.isMatched)) {\n          onGameOver();\n        }\n      } else {\n        setToUnflip([first, second]);\n        if (numPlayers === 2) setTurn(t => 1 - t);\n      }\n    }\n  }, [flipped]);\n  useEffect(() => {\n    if (toUnflip.length === 2) {\n      const [first, second] = toUnflip;\n      const newCards = cards.map((c, idx) => idx === first || idx === second ? {\n        ...c,\n        isFlipped: false\n      } : c);\n      setTimeout(() => {\n        setCards(newCards);\n        setFlipped([]);\n        setToUnflip([]);\n      }, 1000);\n    }\n  }, [toUnflip]);\n  function handleCardClick(idx) {\n    if (gameOver) return;\n    if (cards[idx].isFlipped || cards[idx].isMatched || flipped.length === 2) return;\n    setCards(cards => cards.map((c, i) => i === idx ? {\n      ...c,\n      isFlipped: true\n    } : c));\n    setFlipped(f => [...f, idx]);\n  }\n  const style = {\n    gridTemplateColumns: `repeat(${gridSize}, 1fr)`\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-board\",\n    style: style,\n    children: cards.map((card, idx) => /*#__PURE__*/_jsxDEV(Card, {\n      card: card,\n      onClick: () => handleCardClick(idx)\n    }, card.uniqueId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(GameBoard, \"1ZJ6GJEZLLHJy1Rif4PCzOPY9ik=\");\n_c = GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","useState","useEffect","Card","jsxDEV","_jsxDEV","GameBoard","cards","setCards","gridSize","numPlayers","turn","setTurn","onMatch","onGameOver","gameOver","_s","flipped","setFlipped","toUnflip","setToUnflip","length","first","second","id","newCards","map","c","idx","isMatched","every","t","isFlipped","setTimeout","handleCardClick","i","f","style","gridTemplateColumns","className","children","card","onClick","uniqueId","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/aht/Documents/AHT/AI-Course/AI-Source-code/memorygame/src/components/GameBoard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from './Card';\n\nexport default function GameBoard({ cards, setCards, gridSize, numPlayers, turn, setTurn, onMatch, onGameOver, gameOver }) {\n  const [flipped, setFlipped] = useState([]);\n  const [toUnflip, setToUnflip] = useState([]);\n\n  useEffect(() => {\n    setFlipped([]);\n  }, [cards]);\n\n  useEffect(() => {\n    if (flipped.length === 2) {\n      const [first, second] = flipped;\n      if (cards[first].id === cards[second].id) {\n        // Match\n        const newCards = cards.map((c, idx) =>\n          idx === first || idx === second ? { ...c, isMatched: true } : c\n        );\n        setCards(newCards);\n        onMatch(turn);\n        setFlipped([]);\n        // Check for game over\n        if (newCards.every(c => c.isMatched)) {\n          onGameOver();\n        }\n      } else {\n        setToUnflip([first, second]);\n        if (numPlayers === 2) setTurn(t => 1 - t);\n      }\n    }\n  }, [flipped]);\n\n  useEffect(() => {\n    if (toUnflip.length === 2) {\n      const [first, second] = toUnflip;\n      const newCards = cards.map((c, idx) =>\n        idx === first || idx === second ? { ...c, isFlipped: false } : c\n      );\n      setTimeout(() => {\n        setCards(newCards);\n        setFlipped([]);\n        setToUnflip([]);\n      }, 1000);\n    }\n  }, [toUnflip]);\n\n  function handleCardClick(idx) {\n    if (gameOver) return;\n    if (cards[idx].isFlipped || cards[idx].isMatched || flipped.length === 2) return;\n    setCards(cards => cards.map((c, i) => i === idx ? { ...c, isFlipped: true } : c));\n    setFlipped(f => [...f, idx]);\n  }\n\n  const style = {\n    gridTemplateColumns: `repeat(${gridSize}, 1fr)`\n  };\n\n  return (\n    <div className=\"game-board\" style={style}>\n      {cards.map((card, idx) => (\n        <Card key={card.uniqueId} card={card} onClick={() => handleCardClick(idx)} />\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}