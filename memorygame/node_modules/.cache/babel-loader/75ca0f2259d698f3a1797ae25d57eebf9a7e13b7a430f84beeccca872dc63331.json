{"ast":null,"code":"var _jsxFileName = \"/Users/aht/Documents/AHT/AI-Course/AI-Source-code/memorygame/src/components/GameBoard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Card from './Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GameBoard({\n  cards,\n  setCards,\n  gridSize,\n  numPlayers,\n  turn,\n  setTurn,\n  onMatch,\n  onGameOver,\n  gameOver\n}) {\n  _s();\n  const [flipped, setFlipped] = useState([]);\n  useEffect(() => {\n    setFlipped([]);\n  }, [cards]);\n  useEffect(() => {\n    if (flipped.length === 2) {\n      const [first, second] = flipped;\n      if (cards[first].id === cards[second].id) {\n        // Match\n        const newCards = cards.map((c, idx) => idx === first || idx === second ? {\n          ...c,\n          isMatched: true\n        } : c);\n        setCards(newCards);\n        onMatch(turn);\n        setFlipped([]);\n        // Check for game over\n        if (newCards.every(c => c.isMatched)) {\n          onGameOver();\n        }\n      } else {\n        setTimeout(() => {\n          setCards(cards => cards.map((c, idx) => idx === first || idx === second ? {\n            ...c,\n            isFlipped: false\n          } : c));\n          setFlipped([]);\n          if (numPlayers === 2) setTurn(t => 1 - t);\n        }, 1000);\n      }\n    }\n  }, [flipped]);\n  function handleCardClick(idx) {\n    if (gameOver) return;\n    if (cards[idx].isFlipped || cards[idx].isMatched || flipped.length === 2) return;\n    setCards(cards => cards.map((c, i) => i === idx ? {\n      ...c,\n      isFlipped: true\n    } : c));\n    setFlipped(f => [...f, idx]);\n  }\n  const style = {\n    gridTemplateColumns: `repeat(${gridSize}, 1fr)`\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-board\",\n    style: style,\n    children: cards.map((card, idx) => /*#__PURE__*/_jsxDEV(Card, {\n      card: card,\n      onClick: () => handleCardClick(idx)\n    }, card.uniqueId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(GameBoard, \"HGcD0RZZPojadgl32grgAFjsqfA=\");\n_c = GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","useState","useEffect","Card","jsxDEV","_jsxDEV","GameBoard","cards","setCards","gridSize","numPlayers","turn","setTurn","onMatch","onGameOver","gameOver","_s","flipped","setFlipped","length","first","second","id","newCards","map","c","idx","isMatched","every","setTimeout","isFlipped","t","handleCardClick","i","f","style","gridTemplateColumns","className","children","card","onClick","uniqueId","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/aht/Documents/AHT/AI-Course/AI-Source-code/memorygame/src/components/GameBoard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from './Card';\n\nexport default function GameBoard({ cards, setCards, gridSize, numPlayers, turn, setTurn, onMatch, onGameOver, gameOver }) {\n  const [flipped, setFlipped] = useState([]);\n  useEffect(() => {\n    setFlipped([]);\n  }, [cards]);\n\n  useEffect(() => {\n    if (flipped.length === 2) {\n      const [first, second] = flipped;\n      if (cards[first].id === cards[second].id) {\n        // Match\n        const newCards = cards.map((c, idx) =>\n          idx === first || idx === second ? { ...c, isMatched: true } : c\n        );\n        setCards(newCards);\n        onMatch(turn);\n        setFlipped([]);\n        // Check for game over\n        if (newCards.every(c => c.isMatched)) {\n          onGameOver();\n        }\n      } else {\n        setTimeout(() => {\n          setCards(cards => cards.map((c, idx) =>\n            idx === first || idx === second ? { ...c, isFlipped: false } : c\n          ));\n          setFlipped([]);\n          if (numPlayers === 2) setTurn(t => 1 - t);\n        }, 1000);\n      }\n    }\n  }, [flipped]);\n\n  function handleCardClick(idx) {\n    if (gameOver) return;\n    if (cards[idx].isFlipped || cards[idx].isMatched || flipped.length === 2) return;\n    setCards(cards => cards.map((c, i) => i === idx ? { ...c, isFlipped: true } : c));\n    setFlipped(f => [...f, idx]);\n  }\n\n  const style = {\n    gridTemplateColumns: `repeat(${gridSize}, 1fr)`\n  };\n\n  return (\n    <div className=\"game-board\" style={style}>\n      {cards.map((card, idx) => (\n        <Card key={card.uniqueId} card={card} onClick={() => handleCardClick(idx)} />\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}